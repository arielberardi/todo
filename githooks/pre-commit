#!/bin/bash

set -euo pipefail

echo "ğŸ” Running pre-commit checks..."

# Run linter silently
echo "ğŸ“ Linting code..."
if ! pnpm lint > /dev/null 2>&1; then
  echo "âŒ Lint failed"
  exit 1
fi

# Run format check silently
echo "ğŸ¨ Checking code format..."
if ! pnpm format > /dev/null 2>&1; then
  echo "âŒ Format check failed"
  exit 1
fi

# Run unit tests silently
echo "ğŸ§ª Running unit tests..."
if ! pnpm test:unit > /dev/null 2>&1; then
  echo "âŒ Unit tests failed"
  exit 1
fi

echo "âœ… All checks passed. Proceeding with commit."
